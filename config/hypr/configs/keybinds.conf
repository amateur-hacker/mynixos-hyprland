# Setting variables
$superMod = SUPER
$altMod = ALT
$fileManager = thunar
$browser = $BROWSER
$term = $TERMINAL
$visualEditor = neovide
$menu = rofi
$hyprDir = $HOME/.config/hypr
$scriptsDir = $HOME/.config/hypr/scripts
$submapReset = hyprctl dispatch submap reset
$normalScreenshot = grim -g "$(slurp -o -r -c '##f38ba8ff')" -t ppm - | satty --filename - --fullscreen --output-filename ~/pictures/screenshots/screenshot-$(date '+%d-%b-%y_%Ih%Mm%Ss%p').png

# Scripts Variables
$airplaneMode = $scriptsDir/airplane-mode.sh
$brightness = $scriptsDir/brightness.sh
$mediaCtrl = $scriptsDir/media-ctrl.sh
$screenshot = $scriptsDir/screenshot.sh
$volume = $scriptsDir/volume.sh
$powerMenu = $scriptsDir/wlogout.sh
$refresh = $scriptsDir/refresh.sh
$waybarStyleSwitcher = $scriptsDir/waybar-style-switcher.sh
$floatPreset = $scriptsDir/float-preset.sh
$floatAllPreset = $scriptsDir/floatall-preset.sh

bindel = , XF86AudioRaiseVolume, exec, $volume --inc
bindel = , XF86AudioLowerVolume, exec, $volume --dec
bindl = , XF86AudioMute, exec, $volume --toggle
bindl = , xf86AudioMicMute, exec, $volume --toggle-mic
bindel = , XF86MonBrightnessUp, exec, $brightness --inc
bindel = , XF86MonBrightnessDown, exec, $brightness --dec
bindl = , XF86AudioPlayPause, exec, $mediaCtrl --pause
bindl = , XF86AudioPause, exec, $mediaCtrl --pause
bindl = , XF86AudioPlay, exec, $mediaCtrl --pause
bindl = , XF86AudioNext, exec, $mediaCtrl --nxt
bindl = , XF86AudioPrev, exec, $mediaCtrl --prv
bindl = , XF86AudioStop, exec, $mediaCtrl --stop
bindl = , XF86Rfkill, exec, $airplaneMode
bindl = , XF86Lock, exec, hyprlock                                                                                           # Open screenlock
bindl = , XF86Sleep, exec, systemctl suspend
bind = , XF86Calculator, exec, qalculate-gtk
bind = , Print, exec, $normalScreenshot

binde = $superMod, RETURN, exec, $TERMINAL
bind = $superMod, A, exec, rofi -show drun
# bind = $superMod, A, exec, SHELL=/usr/bin/bash j4-dmenu-desktop --dmenu="fuzzel --dmenu -T 'wezterm -e'" --term-mode=custom --term="wezterm -e" -b
bind = $superMod, R, exec, rofi -show run
# bind = $superMod, R, exec, command ls /usr/bin | fuzzel --dmenu | xargs -r -I {} sh -c '{} || notify-send "Failed to launch: {}"'
# bind = $superMod, B, exec, $BROWSER --enable-features=UseOzonePlatform --ozone-platform=wayland --password-store=basic
bind = $superMod, B, exec, $BROWSER
bind = $superMod, C, exec, $visualEditor
bind = $superMod, E, exec, thunar
bind = $superMod, T, exec, Telegram
bind = $superMod, S, exec, spotify --enable-features=UseOzonePlatform --ozone-platform=wayland

bind = $superMod, Q, exec, hyprlock
bind = $superMod CTRL, Q, exec, systemd-inhibit --mode=block --what=idle:sleep --why="Manual screen lock" hyprlock
bind = $superMod SHIFT, Q, exec, bash -c "[ ! $(pidof wlogout) ] && $powerMenu"
# bind = $superMod, V, exec, pavucontrol
bind = $superMod SHIFT, P, exec, hyprpicker -a
# bind = $superMod SHIFT, N, exec, $term -e impala
# bind = $superMod SHIFT, B, exec, $term -e bluetui
# bind = $superMod SHIFT, V, exec, $term -e pulsemixer
# bind = $superMod SHIFT, B, exec, blueman-manager

binde = $superMod SHIFT, C, killactive,
binde = $superMod SHIFT, X, forcekillactive,
bind = $superMod SHIFT, R, exec, $refresh
bind = $superMod, F, exec, $floatPreset
bind = $superMod SHIFT, F, exec, $floatAllPreset
# bind = $superMod SHIFT, F, exec, hyprctl dispatch workspaceopt allfloat
# bind = $superMod, SPACE, fullscreen, 0
# bind = $superMod SHIFT, SPACE, fullscreen, 1
bind = $superMod, SPACE, fullscreenstate, 2, -1
bind = $superMod SHIFT, SPACE, fullscreenstate, 1, -1
binde = $superMod, J, layoutmsg, cyclenext
binde = $superMod, K, layoutmsg, cycleprev
binde = $superMod SHIFT, J, layoutmsg, swapnext
binde = $superMod SHIFT, K, layoutmsg, swapprev
bind = $superMod SHIFT, M, layoutmsg, swapwithmaster
binde = $superMod, H, resizeactive, -50 0
binde = $superMod, L, resizeactive, 50 0
bind = $superMod SHIFT, E, exec, hyprctl dispatch splitratio exact 0.5
# bind = $superMod SHIFT, L, exec, hyprctl dispatch splitratio 0.3
bind = $superMod, equal, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor * 2.0}')"
bind = $superMod, minus, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor / 2.0}')"
bind = $superMod CTRL, 0, exec, hyprctl keyword cursor:zoom_factor 1.0
bind = $altMod, space, exec, $(hyprctl activewindow -j | jq '.floating') && hyprctl dispatch cyclenext prev tiled || hyprctl dispatch cyclenext floating # to switch between windows in a floating workspace
bind = SUPER, Tab, cyclenext, floating # change focus to another window
bind = SUPER, Tab, bringactivetotop # bring it to the top

# Control tiling
# bind = SUPER, J, togglesplit, # dwindle
# bind = SUPER, P, pseudo, # dwindle
# binde = $superMod, J, cyclenext
# binde = $superMod, K, cyclenext, prev
# binde = $superMod SHIFT, J, swapnext
# binde = $superMod SHIFT, K, swapnext, prev

# bind = $superMod, h, movefocus, l
# bind = $superMod, l, movefocus, r
# bind = $superMod, k, movefocus, u
# bind = $superMod, j, movefocus, d
# bind = $superMod SHIFT, h, swapwindow, l
# bind = $superMod SHIFT, l, swapwindow, r
# bind = $superMod SHIFT, k, swapwindow, u
# binde = $superMod SHIFT, j, swapwindow, d
# binde = $superMod CTRL, h,  resizeactive, -20 0
# binde = $superMod CTRL, l, resizeactive, 20 0
# binde = $superMod CTRL, k, resizeactive, 0 -20
# binde = $superMod CTRL, j,  resizeactive, 0 20
# bind = $superMod SHIFT, E, exec, hyprctl dispatch splitratio exact 1

# bind = SUPER, V, togglefloating,
# bind = $superMod, left, movefocus, l
# bind = $superMod, right, movefocus, r
# bind = $superMod, up, movefocus, u
# bind = $superMod, down, movefocus, d

bind = $superMod, W, exec, pkill -SIGUSR1 waybar
bind = $superMod SHIFT, W, exec, $waybarStyleSwitcher

# bind = $superMod SHIFT, Y, exec, pypr toggle explorer
# bind = $superMod SHIFT, V, exec, pypr toggle volume
# bind = $superMod SHIFT, RETURN, exec, pypr toggle term
# bind = $superMod SHIFT, Z, exec, pypr zoom


bind = SUPER, U, togglespecialworkspace
bind = SUPER SHIFT, U, movetoworkspace, special

# group
# bind = $superMod, G, togglegroup
# bind = $superMod CTRL, tab, changegroupactive, f
# bind = $superMod CTRL SHIFT, tab, changegroupactive, b

# Apps binds
# bind = $superMod, N, submap, User Apps
# submap = User Apps
# bind = , B, exec, $submapReset && $browser
# bind = , F, exec, $submapReset && $fileManager
# bind = , C, exec, $submapReset && $visualEditor
# bind = , S, exec, $submapReset && spotify --enable-features=UseOzonePlatform --ozone-platform=wayland
# bind = , T, exec, $submapReset && Telegram
# bind = , V, exec, $submapReset && pavucontrol
# bind = , P, exec, $submapReset && hyprpicker -a
# bind = , escape,submap,reset
# submap = reset
#
# bind = $superMod SHIFT, A, submap, System Apps
# submap = System Apps
# bind = , P, exec, $submapReset && pavucontrol
# bind = , W, exec, $submapReset && $powerMenu
# bind = , Q, exec, $submapReset && hyprlock
# bind = , escape,submap,reset
# submap = reset

bind = $superMod, code:10, focusworkspaceoncurrentmonitor, 1
bind = $superMod, code:11, focusworkspaceoncurrentmonitor, 2
bind = $superMod, code:12, focusworkspaceoncurrentmonitor, 3
bind = $superMod, code:13, focusworkspaceoncurrentmonitor, 4
bind = $superMod, code:14, focusworkspaceoncurrentmonitor, 5
bind = $superMod, code:15, focusworkspaceoncurrentmonitor, 6
bind = $superMod, code:16, focusworkspaceoncurrentmonitor, 7
bind = $superMod, code:17, focusworkspaceoncurrentmonitor, 8
bind = $superMod, code:18, focusworkspaceoncurrentmonitor, 9
bind = $superMod, code:19, focusworkspaceoncurrentmonitor, 10

bind = $superMod SHIFT, code:10, movetoworkspacesilent, 1
bind = $superMod SHIFT, code:11, movetoworkspacesilent, 2
bind = $superMod SHIFT, code:12, movetoworkspacesilent, 3
bind = $superMod SHIFT, code:13, movetoworkspacesilent, 4
bind = $superMod SHIFT, code:14, movetoworkspacesilent, 5
bind = $superMod SHIFT, code:15, movetoworkspacesilent, 6
bind = $superMod SHIFT, code:16, movetoworkspacesilent, 7
bind = $superMod SHIFT, code:17, movetoworkspacesilent, 8
bind = $superMod SHIFT, code:18, movetoworkspacesilent, 9
bind = $superMod SHIFT, code:19, movetoworkspacesilent, 10

bind = $superMod CTRL SHIFT, code:10, movetoworkspace, 1
bind = $superMod CTRL SHIFT, code:11, movetoworkspace, 2
bind = $superMod CTRL SHIFT, code:12, movetoworkspace, 3
bind = $superMod CTRL SHIFT, code:13, movetoworkspace, 4
bind = $superMod CTRL SHIFT, code:14, movetoworkspace, 5
bind = $superMod CTRL SHIFT, code:15, movetoworkspace, 6
bind = $superMod CTRL SHIFT, code:16, movetoworkspace, 7
bind = $superMod CTRL SHIFT, code:17, movetoworkspace, 8
bind = $superMod CTRL SHIFT, code:18, movetoworkspace, 9
bind = $superMod CTRL SHIFT, code:19, movetoworkspace, 10


bind = $superMod, period, workspace, e+1
bind = $superMod, comma, workspace, e-1

bindm = $superMod, mouse:272, movewindow
bindm = $superMod, mouse:273, resizewindow

# bind = $superMod, left, focusmonitor, HDMI-A-1
# bind = $superMod, right, focusmonitor, eDP-1
# bind = $superMod SHIFT, left, movewindow, mon:HDMI-A-1
# bind = $superMod SHIFT, right, movewindow, mon:eDP-1
bind = $superMod, M, exec, $HOME/.config/hypr/scripts/focusmonitor.sh
bind = $superMod SHIFT, M, exec, $HOME/.config/hypr/scripts/movewindow.sh
#
bind = $superMod, O, exec, ddcutil --display 1 setvcp D6 01 && sleep 0.2 && hyprctl dispatch focusmonitor HDMI-A-1
bind = $superMod SHIFT, O, exec, ddcutil --display 1 setvcp D6 04 && hyprctl dispatch focusmonitor eDP-1

bind = $superMod, D, exec, hyprctl keyword monitor "eDP-1, 1920x1080, 1920x0, 1"
bind = $superMod SHIFT, D, exec, hyprctl keyword monitor "eDP-1, disable"

binde = $altMod, U, exec, $volume --inc
binde = $altMod, D, exec, $volume --dec
binde = $altMod, M, exec, $volume --toggle
binde = $altMod, bracketright, exec, $brightness --inc
binde = $altMod, bracketleft, exec, $brightness --dec
bind = $altMod SHIFT, bracketright, exec, $brightness --mon-inc
bind = $altMod SHIFT, bracketleft, exec, $brightness --mon-dec
bind = $altMod CTRL, bracketright, exec, $brightness --high && $brightness --mon-high
bind = $altMod CTRL, bracketleft, exec, $brightness --low && $brightness --mon-low

# bind = $altMod, B, submap, alt+b
# submap = alt+b
# bind = , C, exec, bt -c
# bind = , C, submap, reset
# bind = , D, exec, bt -d
# bind = , D, submap, reset
# bind = , F, exec, bt -f
# bind = , F, submap, reset
# bind = , escape,submap,reset
# submap = reset

bind = $altMod, S, submap, mediactrl
submap = mediactrl
bind = , N, exec, $submapReset && $mediaCtrl --nxt
bind = , P, exec, $submapReset && $mediaCtrl --prv
bind = , SPACE, exec, $submapReset && $mediaCtrl --pause
bind = , S, exec, $submapReset && $mediaCtrl --stop
bind = , escape,submap,reset
submap = reset

bind = $altMod SHIFT, P, exec, $normalScreenshot
bind = $altMod, P, submap, screenshot
submap = screenshot
bind = , F, exec, $submapReset && $screenshot --now
bind = , S, exec, $submapReset && $screenshot --area
bind = , A, exec, $submapReset && $screenshot --active
bind = , 5, exec, $submapReset && $screenshot --in5
bind = , 0, exec, $submapReset && $screenshot --in10
bind = , escape,submap,reset
submap = reset

bindl=,switch:Lid Switch, exec, ~/.config/hypr/scripts/lid-switch.sh
